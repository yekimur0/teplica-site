
document.addEventListener("DOMContentLoaded",()=>{tail.select("select:not(.no-tail)")});
let tail={select:function(e,t={}){let T={multiTags:!1,multiCounter:!0,multiLimit:1/0,minSelectionLimit:0,theme:"light",classNames:"tail-default",buttonAll:!0,buttonNone:!0,buttonClose:!1,buttonCloseText:"✕",strings:{all:"All",none:"None",placeholder:"Select an option...",search:"Type in to search...",limitExceded:"You can only select {0} option(s)!",minimumReached:"You need to select at least {0} option(s)!"},...t},{multiLimit:w,minSelectionLimit:R,strings:Y}=T;null!=Y&&(null!=Y.limitExceded&&w<1/0&&(Y.limitExceded=Y.limitExceded.replace("{0}",w)),null!=Y.minimumReached)&&0<R&&(Y.minimumReached=Y.minimumReached.replace("{0}",R)),document.querySelectorAll(e).forEach(i=>{function d(e){i.multiple?(e.checked?i.selectedOptions.length>=w:i.selectedOptions.length==R)?(e.checked=!e.checked,l(),t(i.selectedOptions.length>=w?Y.limitExceded||`You can only select ${w} option(s)!`:Y.minimumReached||`You need to select at least ${R} option(s)!`)):o(i,e):(h.querySelectorAll('.tail--nested-dropdown-item input[type="checkbox"]').forEach(e=>e.checked=!1),e.checked=!0,o(i,e),l())}function t(e){let t=document.createElement("p");t.textContent=e,a.parentNode.appendChild(t),setTimeout(()=>{a.parentNode.removeChild(t)},2e3)}function o(t,l){let n=l.value,a=Array.from(t.options).find(e=>e.value===n||e.textContent===n);if(a){l.checked?a.selected=!0:a.selected=!1;let e=new Event("change",{bubbles:!0});t.dispatchEvent(e)}l=Array.from(t.options).filter(e=>e.selected);t.multiple?r.value=l.map(e=>e.textContent).join(", "):0<l.length&&r?r.value=l[0].textContent:r.value="",T.multiTags&&t.multiple&&c(y,l),l.map(e=>e.value);for(var e=t.options,i=0,d=0;d<e.length;d++)e[d].selected&&i++;T.multiCounter&&(l=t.id)&&(t=document.querySelector("."+l).querySelector(".tail--counter"))&&(t.textContent=i)}function c(l,e){l.innerHTML="",e.forEach(e=>{var t=document.createElement("li");t.textContent=e.textContent,l.appendChild(t)})}function n(e){var t=Array.from(e.options).filter(e=>e.selected&&e.hasAttribute("selected"));e.multiple?r.value=t.map(e=>e.textContent).join(", "):0<t.length&&r?r.value=t[0].textContent:r.value="",T.multiTags&&e.multiple&&c(y,t)}function s(t){let e=t.id;if(e){var l=document.querySelector("."+e).querySelector(".tail--counter");if(l){let e=Array.from(t.options).filter(e=>e.selected).length;l.textContent=e}}}function l(){h.style.display="none",a.setAttribute("aria-expanded","false")}i.style.display="none";let a=document.createElement("div"),r=(a.classList.add("tail-select"),a.classList.add(i.id),"string"==typeof T.classNames&&a.classList.add(...T.classNames.split(" ")),"boolean"==typeof T.classNames&&!0===T.classNames&&a.classList.add(...i.classList.value.split(" ")),Array.isArray(T.classNames)&&a.classList.add(...T.classNames),a.dataset.theme="tail-theme--"+T.theme,i.multiple?a.classList.add("tail--multiple"):a.classList.add("tail--single"),document.createElement("input"));r.type="text",r.classList.add("tail--search"),r.placeholder=Y.placeholder||"Select an option...",r.addEventListener("focus",()=>{r.placeholder=Y.search||"Type in to search..."}),r.addEventListener("blur",()=>{r.placeholder=Y.placeholder||"Select an option..."}),r.addEventListener("input",()=>{{var t;let n=r.value.trim().toLowerCase(),e=h.querySelectorAll("div");e.forEach(e=>{var t=e.querySelector('input[type="checkbox"]'),l=t.nextElementSibling.textContent.toLowerCase();e.closest("div"),t.style.display=l.includes(n)?"inline-block":"none"}),e.forEach(e=>{var t=e.querySelector('input[type="checkbox"]'),l=e.closest("div"),e=0<e.querySelectorAll('div input[type="checkbox"]:not([style="display: none;"])').length;l.style.display="inline-block"===t.style.display||e?"block":"none"})}});var p=document.createElement("div");p.classList.add("tail--toolbar");let e=document.createElement("input");e.type="checkbox",e.value=Y.all||"All",e.addEventListener("change",()=>{var l=i,n=e;if(l.options.length>w)t(Y.limitExceded||`You can only select ${w} option(s)!`);else{let t=n.checked,e=h.querySelectorAll('input[type="checkbox"]');e.forEach(e=>{e.checked=t,o(l,e)})}});var u=document.createElement("label"),m=(u.textContent=Y.all||"All",u.classList.add("all"),u.appendChild(e),document.createElement("button"));if(m.type="button",m.textContent=Y.none||"None",m.classList.add("uncheck"),m.addEventListener("click",()=>{var t=i,l=(h.querySelectorAll('input[type="checkbox"]').forEach(e=>{e.checked=!1,o(t,e)}),t.getElementsByTagName("option"));for(let e=0;e<l.length;e++)l[e].selected=!1}),T.multiCounter){let e=document.createElement("span");e.textContent="0",e.classList.add("tail--counter"),a.appendChild(e)}let h=document.createElement("div");if(h.classList.add("tail--nested-dropdown"),h.style.display="none",a.appendChild(r),a.appendChild(p),a.appendChild(h),T.buttonAll&&p.appendChild(u),T.buttonNone&&p.appendChild(m),i.multiple&&T.buttonClose){let e=document.createElement("button");e.type="button",e.textContent=T.buttonCloseText||"✕",e.classList.add("tail--close"),e.addEventListener("click",()=>{l()}),p.appendChild(e)}i.insertAdjacentElement("afterend",a);let y=document.createElement("ul");y.classList.add("tail--selected-options-list"),T.multiTags&&i.multiple&&a.insertAdjacentElement("afterend",y),r.addEventListener("focus",function(){h.style.display="block",a.setAttribute("aria-expanded","true")}),document.addEventListener("click",function(e){a.contains(e.target)||l()}),document.addEventListener("keydown",function(e){"Escape"===e.key&&l()});{let e=document.createDocumentFragment(),l=i.getElementsByTagName("optgroup");if(0<l.length)for(let t=0;t<l.length;t++){var E=l[t],b=document.createElement("div");b.classList.add("tail--optgroup");let e=document.createElement("label"),a=document.createElement("input");a.type="checkbox",a.value=E.label,a.addEventListener("change",()=>{{var n=a;let t=n.checked,e=n.closest(".tail--optgroup").querySelector(".tail--nested-dropdown-list"),l=e.querySelectorAll('input[type="checkbox"]');if(l.forEach(e=>{e.checked=t,d(e)}),!i.multiple){let t=i.closest(".tail-select");if(t){let e=t.querySelectorAll('.tail--nested-dropdown-item input[type="checkbox"]');e.forEach(e=>{e!==n&&(e.checked=!1,o(i,e))})}}o(i,n)}}),e.appendChild(a);var v=document.createElement("span"),C=(v.textContent=E.label,v.classList.add("tail--optgroup-label"),e.appendChild(v),b.appendChild(e),document.createElement("div")),f=(C.setAttribute("role","listbox"),C.classList.add("tail--nested-dropdown-list"),E.getElementsByTagName("option"));for(let l=0;l<f.length;l++){let e=f[l],t=document.createElement("div");t.classList.add("tail--nested-dropdown-item");var x=document.createElement("input"),g=(x.type="checkbox",x.value=e.textContent,document.createElement("label")),L=document.createElement("span");L.textContent=e.textContent,e.dataset.description&&(L.innerHTML+=`<small>${e.dataset.description}</small>`),e.selected&&e.hasAttribute("selected")&&(x.checked=!0,s(i),n(i)),e.hasAttribute("disabled")&&(x.disabled=!0),g.appendChild(x),g.appendChild(L),t.appendChild(g),C.appendChild(t)}b.appendChild(C),h.appendChild(b)}else{let t=i.getElementsByTagName("option");for(let e=0;e<t.length;e++){var k=t[e],A=document.createElement("div"),S=(A.classList.add("tail--nested-dropdown-item"),document.createElement("input")),N=(S.type="checkbox",S.value=k.textContent,document.createElement("label")),q=document.createElement("span");q.textContent=k.textContent,k.dataset.description&&(q.innerHTML+=`<small>${k.dataset.description}</small>`),k.selected&&k.hasAttribute("selected")&&(S.checked=!0,s(i),n(i)),k.hasAttribute("disabled")&&(S.disabled=!0),N.appendChild(S),N.appendChild(q),A.appendChild(N),h.appendChild(A)}}a.setAttribute("role","combobox"),a.setAttribute("aria-haspopup","true"),a.setAttribute("aria-expanded","false"),h.querySelectorAll('.tail--nested-dropdown-item input[type="checkbox"]').forEach(e=>{e.addEventListener("change",()=>d(e))}),h.appendChild(e)}})}};
//# sourceMappingURL=main.js.map
